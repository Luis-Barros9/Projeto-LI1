<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa4_2021li1g061</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Lu&#237;s V&#237;tor Lima Barros &lt;a100693@alunos.uminho.pt&gt;;<br />: Filipe Santos Gon&#231;alves &lt;a100696@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa4_2021li1g061</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 4 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:moveJogador">moveJogador</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:trepar">trepar</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:interCaixa">interCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:andarEsq">andarEsq</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:andarDir">andarDir</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:substituirEm">substituirEm</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Peca" title="LI12122">Peca</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:pousarCaixa">pousarCaixa</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:queda">queda</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></li><li class="src short"><a href="#v:correrMovimentos">correrMovimentos</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:moveJogador" class="def">moveJogador</a> <a href="#v:moveJogador" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>jogo inicial</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a></td><td class="doc"><p>movimento a ser executado </p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>jogo resultante</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:moveJogador" title="Tarefa4_2021li1g061">moveJogador</a></code> realiza uma a&#231;&#227;o do jogador(andar; usar ou pegar numa caixa ; trepar algo),
  se for poss&#237;vel executar o movimento o jogo estado do jogo &#233; alterado.</p><h2>Propriedades</h2><pre>moveJogador jogo Trepar = trepar jogo</pre><pre>moveJogador jogo InterageCaixa = interCaixa jogo</pre><pre>moveJogador jogo AndarDireita = andarDir jogo</pre><pre>moveJogador jogo AndarEsquerda = andarEsq jogo</pre></div></div><div class="top"><p class="src"><a id="v:trepar" class="def">trepar</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:trepar" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:trepar" title="Tarefa4_2021li1g061">trepar</a></code>  verifica se o jogador est&#225; em condi&#231;&#245;es de trepar, se estiver realiza o movimento,
se n&#227;o estiver, retorna o jogo inicial.</p><pre> Condi&#231;&#245;es necess&#225;rias para trepar:

 * Existir uma coluna, na dire&#231;&#227;o do jogador;
 * Existir uma linha acima do jogador e ,caso este carregue uma caixa, existir uma linha 2 posi&#231;&#245;es acima deste;
 * A pe&#231;a ao lado, na dire&#231;&#227;o do jogador, tem de ser trep&#225;vel (caixa ou bloco) ,al&#233;m disso em cima desta temos de
 ter em cima pelo menos 1 pe&#231;a acess&#237;vel (vazia ou porta) ,e 1 pe&#231;a vazia acima da acess&#237;vel se o jogador estiver carregar uma caixa;
 * A pe&#231;a em cima do jogador for vazia, se este tiver caixa a pe&#231;a 2 linhas acima tamb&#233;m t&#233;m de ser vazia.
</pre><p>Caso pelo menos uma destas condi&#231;&#245;es n&#227;o se verificar, retornar o jogo inicial inalterado.
Por outro lado, se todas se verificarem, alterar a posi&#231;&#227;o do jogador para uma linha acima e muda para a coluna imediatamente ao lado na sua dire&#231;&#227;o.</p></div></div><div class="top"><p class="src"><a id="v:interCaixa" class="def">interCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:interCaixa" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:interCaixa" title="Tarefa4_2021li1g061">interCaixa</a></code>, verifica se o jogador est&#225; em condi&#231;oes de pegar ou pousar uma caixa, se estiver, 
realiza a a&#231;&#227;o desejada, se n&#227;o estiver, retorna o jogo inicial.</p><pre> Condi&#231;&#245;es necess&#225;rias para pousar a Caixa:

 * O jogador n&#227;o se encontra na primeira linha do mapa;
 * Na dire&#231;&#227;o do jogador t&#7869;m de existir pelo menos uma coluna;
 * A pe&#231;a  imediatamente ao lado ,na dire&#231;&#227;o do jogador, e em cima desta s&#227;o vazias;

 Condi&#231;&#245;es necess&#225;roas para pegar na Caixa:

 * O jogador n&#227;o se encontra na primeira linha do mapa;
 * Na dire&#231;&#227;o do jogador t&#234;m de existir pelo menos uma coluna;
 * A pe&#231;a imediatamente ao lado , na dire&#231;&#227;o do jogador t&#234;m de ser uma caixa e em cima desta uma pe&#231;a vazia;
 * Em cima do jogador temos de encontrar uma pe&#231;a vazia.
</pre><p>Caso pelo menos uma destas condi&#231;&#245;es n&#227;o se verificar para a a&#231;&#227;o pretendida, retornar o jogo inicial inalterado.
Por outro lado, se o jogador conseguir pousar a caixa, largar esta na posi&#231;&#227;o imediatamente ao lado, ou na pe&#231;a Vazia mais abaixo desta
e alterar o estado deste para n&#227;o portador de Caixa. Doutro modo, se o jogador reunir todas as condi&#231;o&#233;s necess&#225;rias para pegar na caixa,
substituir a pe&#231;a imediatamente ao lado , na dire&#231;&#227;o do jogador,por uma Vazia e alterar o estado do jogador para portador de Caixa.</p></div></div><div class="top"><p class="src"><a id="v:andarEsq" class="def">andarEsq</a> <a href="#v:andarEsq" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>estado do jogo inical </p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>estado do jogo ap&#243;s executar ou tentar o movimento para a esquerda</p></td></tr></table></div><div class="doc"><p>a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:andarEsq" title="Tarefa4_2021li1g061">andarEsq</a></code> verifica a possibilidade de andar para a esquerda e se for poss&#237;vel,
altera a posi&#231;&#227;o do jogador, para a posi&#231;&#227;o determinada e altera a sua dire&#231;&#227;o para Oeste.</p><pre> Condi&#231;&#245;es necess&#225;rias para andar para a Esquerda:

 * o jogador n&#227;o pode estar na primeira coluna, e al&#233;m disso, se este for portador de caixa, n&#227;o pode estar na primeira linha;
 * a pe&#231;a &#224; esquerda tem de ser Vazia ou a Porta, se o jogador carregar uma caixa, entao em cima desta pe&#231;a temos de ter outra pe&#231;a Vazia.
</pre><p>Se uma das condi&#231;&#245;es n&#227;o se verificar retornar o jogo inicial , com a dire&#231;&#227;o do jogador para Oeste.
Por outro lado, direcionar o jogador para Oeste e mudar a sua posi&#231;&#227;o para a posi&#231;&#227;o adequada, de acordo com a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:queda" title="Tarefa4_2021li1g061">queda</a></code> utilizando como
argumentos a posi&#231;&#227;o &#224; esquerda deste e o mapa do jogo.</p></div></div><div class="top"><p class="src"><a id="v:andarDir" class="def">andarDir</a> <a href="#v:andarDir" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>estado do jogo inicial</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>estado do jogo ap&#243;s executar ou tentar o movimento para a direita</p></td></tr></table></div><div class="doc"><p>a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:andarDir" title="Tarefa4_2021li1g061">andarDir</a></code> verifica a possibilidade de andar para a direita e se for poss&#237;vel,
altera a posi&#231;&#227;o do jogador, para a posi&#231;&#227;o determinada alterando a sua dire&#231;&#227;o para Este.</p><pre> Condi&#231;&#245;es necess&#225;rias para andar para a Direita:

 * o jogador n&#227;o pode estar na &#250;ltima coluna, e al&#233;m disso, se este for portador de caixa, n&#227;o pode estar na primeira linha;
 * a pe&#231;a &#224; direita tem de ser Vazia ou a Porta, se o jogador carregar uma caixa, entao em cima desta pe&#231;a temos de ter outra pe&#231;a Vazia.
</pre><p>Se uma das condi&#231;&#245;es n&#227;o se verificar retornar o jogo inicial.
Por outro lado, direcionar o jogador para Este e mudar a sua posi&#231;&#227;o para a posi&#231;&#227;o adequada, de acordo com a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:queda" title="Tarefa4_2021li1g061">queda</a></code> utilizando como
argumentos a posi&#231;&#227;o &#224; direita do jogador e o mapa do jogo.</p></div></div><div class="top"><p class="src"><a id="v:substituirEm" class="def">substituirEm</a> <a href="#v:substituirEm" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></td><td class="doc"><p>coordenadas do mapa onde vai ocorrer a substitui&#231;&#227;o </p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Peca" title="LI12122">Peca</a></td><td class="doc"><p>Pe&#231;a a ser introduzida</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc"><p>Mapa do jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc"><p>Mapa ap&#243;s a substitui&#231;&#227;o</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:substituirEm" title="Tarefa4_2021li1g061">substituirEm</a></code> &#233; uma fun&#231;&#227;o auxiliar da fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:interCaixa" title="Tarefa4_2021li1g061">interCaixa</a></code> , que altera o mapa do jogo,
 substituindo na coordenada do mapa pela posi&#231;&#227;o desejada.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>substituirEm (1,1) Caixa [[Vazio,Vazio,Vazio],[Vazio,Vazio,Vazio],[Porta,Bloco,Bloco],[Bloco,Vazio,Vazio]]
</code></strong>[[Vazio,Vazio,Vazio],[Vazio,Caixa,Vazio],[Porta,Bloco,Bloco],[Bloco,Vazio,Vazio]]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>SubstituirEm (1,1) Vazio [[Vazio, Vazio, Vazio, Bloco],[Vazio,Caixa,Vazio,Porta],[Bloco,Bloco,Bloco,Bloco]]
</code></strong>[[Vazio, Vazio, Vazio, Bloco],[Vazio,Vazio,Vazio,Porta],[Bloco,Bloco,Bloco,Bloco]]
</pre><h2>Propriedades:</h2><pre>substituirEm (c,l) peca [] = []</pre></div></div><div class="top"><p class="src"><a id="v:pousarCaixa" class="def">pousarCaixa</a> <a href="#v:pousarCaixa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></td><td class="doc"><p>posi&#231;&#227;o provis&#243;ria para a Caixa</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc"><p>Mapa do jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc"><p>Mapa com a caixa j&#225; pousada na posi&#231;&#227;o correta</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:pousarCaixa" title="Tarefa4_2021li1g061">pousarCaixa</a></code> &#233; uma fun&#231;&#227;o auxiliar da fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:interCaixa" title="Tarefa4_2021li1g061">interCaixa</a></code>, que determina a posi&#231;&#227;o onde deve ser pousada a Caixa
 e , recorrendo &#224; outra fun&#231;&#227;o auxiliar substituirEm', alterar a posi&#231;&#227;o determinada por uma Caixa.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>pousarCaixa (1,0) [[Vazio, Vazio, Vazio, Bloco],[Vazio,Vazio,Vazio,Porta],[Vazio,Bloco,Bloco,Bloco],[Bloco,Bloco,Bloco,Bloco]]
</code></strong>[[Vazio,Vazio,Vazio,Bloco],[Vazio,Caixa,Vazio,Porta],[Vazio,Bloco,Bloco,Bloco],[Bloco,Bloco,Bloco,Bloco]]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>pousarCaixa (0,1) [[Vazio, Vazio, Vazio, Bloco],[Vazio,Vazio,Vazio,Porta],[Vazio,Bloco,Bloco,Bloco],[Bloco,Bloco,Bloco,Bloco]]
</code></strong>[[Vazio, Vazio, Vazio, Bloco],[Vazio,Vazio,Vazio,Porta],[Vazio,Bloco,Bloco,Bloco],[Bloco,Bloco,Bloco,Bloco]]
</pre></div></div><div class="top"><p class="src"><a id="v:queda" class="def">queda</a> <a href="#v:queda" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></td><td class="doc"><p>posi&#231;&#227;o provis&#243;ria do jogador</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc"><p>mapa do jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></td><td class="doc"><p>posi&#231;&#227;o resultante</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:queda" title="Tarefa4_2021li1g061">queda</a></code> &#233; uma fun&#231;&#227;o auxiliar das fun&#231;&#245;es <code><a href="Tarefa4_2021li1g061.html#v:andarDir" title="Tarefa4_2021li1g061">andarDir</a></code> e <code><a href="Tarefa4_2021li1g061.html#v:andarEsq" title="Tarefa4_2021li1g061">andarEsq</a></code>. Nesta,
dada a coordenada da posi&#231;&#227;o imediatamente ao lado do jogador (direita ou esquerda respetivamente)
devolve a posi&#231;&#227;o da pe&#231;a Vazia mais abaixo poss&#237;vel desta. Determinando, assim, onde o jogador vai cair,
sendo esta utilizada para a nova posi&#231;&#227;o do jogador no jogo.</p><h2>Exemplos de utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>queda (1,0) [[Bloco,Vazio,Vazio],[Bloco,Vazio,Bloco],[Porta,Vazio,Bloco],[Bloco,Bloco,Vazio]]
</code></strong>(1,2)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>queda (2,0) [[Bloco,Vazio,Vazio],[Bloco,Vazio,Bloco],[Porta,Vazio,Bloco],[Bloco,Bloco,Vazio]]
</code></strong>(2,0)
</pre></div></div><div class="top"><p class="src"><a id="v:correrMovimentos" class="def">correrMovimentos</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:correrMovimentos" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:correrMovimentos" title="Tarefa4_2021li1g061">correrMovimentos</a></code> executa uma lista de movimentos num jogo, para isto
utiliza a fun&#231;&#227;o <code><a href="Tarefa4_2021li1g061.html#v:moveJogador" title="Tarefa4_2021li1g061">moveJogador</a></code> para cada movimento na sua lista, indo assim atualizar o estado do jogo.</p><h2>Propriedades:</h2><pre>correrMovimentos jogoi [] = jogoi</pre><pre>correrMovimentos jogoi (h:t) = correrMovimentos (moveJogador jogoi h) t</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>